èœå•å·®å¼‚å¯è§†åŒ–å·¥å…·éœ€æ±‚æ–‡æ¡£ä¸€ã€èƒŒæ™¯éœ€è¦å¼€å‘ä¸€ä¸ªå¯è§†åŒ–å·¥å…·ï¼Œç”¨äºæ¯”å¯¹ä¸¤ä¸ªç¯å¢ƒï¼ˆå¦‚æµ‹è¯•ç¯å¢ƒä¸ç”Ÿäº§ç¯å¢ƒï¼‰çš„èœå•æŒ‰é’® JSON æ•°æ®ï¼Œæ¸…æ™°å±•ç¤ºæ–°å¢ã€åˆ é™¤ã€ä¿®æ”¹çš„èœå•é¡¹ã€‚

äºŒã€æ ¸å¿ƒéœ€æ±‚è¾“å…¥æ•°æ®

æ”¯æŒä¸¤ä¸ª JSON æ ¼å¼çš„èœå•æ•°æ®è¾“å…¥ï¼ˆå¦‚ menuA.json å’Œ menuB.jsonï¼‰

èœå•ç»“æ„ç¤ºä¾‹ï¼š

json { "id": 1032, "name": "equality", "menuType": 1, "parentId": 0, "path": "/equality/\*", "title": "æƒç›Šç®¡ç†", "hidden": false, "component": "pages/microAppPage/index.tsx", "sort": 4, "activeName": "", "keepAlive": false, "defaultMenu": false, "icon": "", "closeTab": true, "showSidebar": true, "microApp": true, "appIcon": "https://markeing-oss-debug.seakoi.net/digitizing_center_dev/icon/qygl.png", "skipPage": "/dashboard", "role": 1, "showInMyApp": true, "blank": false, "permission": false, "dataPermission": true, "tabName": "", "bindMenu": 0, "children": [ { "id": 1472, "name": "approve", "menuType": 1, "parentId": 1032, "path": "/approve", "title": "å®¡æ‰¹ä¸­å¿ƒ", "hidden": false, "component": "", "sort": 1, "activeName": "", "keepAlive": true, "defaultMenu": false, "icon": "icon-user-flow", "closeTab": true, "showSidebar": false, "microApp": false, "appIcon": "", "skipPage": "/approve/approveCenter", "role": 1, "showInMyApp": false, "blank": false, "permission": true, "dataPermission": true, "tabName": "", "bindMenu": 0, "children": [ { "id": 1508, "name": "approveCenter", "menuType": 1, "parentId": 1472, "path": "/approve/approveCenter", "title": "å®¡æ‰¹ä¸­å¿ƒ", "hidden": true, "component": "pages/approveCenter/index.tsx", "sort": 0, "activeName": "/approve", "keepAlive": true, "defaultMenu": false, "icon": "", "closeTab": true, "showSidebar": false, "microApp": false, "appIcon": "", "skipPage": "", "role": 1, "showInMyApp": true, "blank": false, "permission": true, "dataPermission": false, "tabName": "", "bindMenu": 0, "children": [] }, { "id": 1509, "name": "propsoalDetail", "menuType": 1, "parentId": 1472, "path": "/approve/proposalApproveDetail", "title": "ææ¡ˆå®¡æ‰¹è¯¦æƒ…", "hidden": true, "component": "pages/approveCenter/ProposalApproveDetail/index.tsx", "sort": 1, "activeName": "/approve", "keepAlive": false, "defaultMenu": false, "icon": "", "closeTab": true, "showSidebar": false, "microApp": false, "appIcon": "", "skipPage": "", "role": 1, "showInMyApp": true, "blank": false, "permission": true, "dataPermission": false, "tabName": "", "bindMenu": 0, "children": [] }, { "id": 1510, "name": "quoteDistributeDetail", "menuType": 1, "parentId": 1472, "path": "/approve/quoteDistributeDetail", "title": "æŠ¥ä»·åˆ†é…è¯¦æƒ…", "hidden": true, "component": "pages/approveCenter/QuoteDistributeDetail/index.tsx", "sort": 2, "activeName": "", "keepAlive": false, "defaultMenu": false, "icon": "", "closeTab": true, "showSidebar": false, "microApp": false, "appIcon": "", "skipPage": "", "role": 1, "showInMyApp": true, "blank": false, "permission": true, "dataPermission": false, "tabName": "", "bindMenu": 0, "children": [] }, { "id": 1511, "name": "quoteApproveDetail", "menuType": 1, "parentId": 1472, "path": "/approve/quoteApproveDetail", "title": "æŠ¥ä»·å®¡æ‰¹è¯¦æƒ…", "hidden": true, "component": "pages/approveCenter/QuoteApproveDetail/index.tsx", "sort": 3, "activeName": "", "keepAlive": false, "defaultMenu": false, "icon": "", "closeTab": true, "showSidebar": false, "microApp": false, "appIcon": "", "skipPage": "", "role": 1, "showInMyApp": true, "blank": false, "permission": true, "dataPermission": false, "tabName": "", "bindMenu": 0, "children": [] }, { "id": 1512, "name": "executeDistributeDetail", "menuType": 1, "parentId": 1472, "path": "/approve/executeDistributeDetail", "title": "æ‰§è¡Œåˆ†é…è¯¦æƒ…", "hidden": true, "component": "pages/solutionCenter/index/solutionList/detail/index.tsx", "sort": 4, "activeName": "", "keepAlive": false, "defaultMenu": false, "icon": "", "closeTab": true, "showSidebar": false, "microApp": false, "appIcon": "", "skipPage": "", "role": 1, "showInMyApp": true, "blank": false, "permission": true, "dataPermission": false, "tabName": "æ‰§è¡Œåˆ†é…è¯¦æƒ…", "bindMenu": 0, "children": [] }, { "id": 1855, "name": "budgetApproveDetail", "menuType": 1, "parentId": 1472, "path": "/approve/budgetApproveDetail", "title": "é¢„ç®—å®¡æ‰¹è¯¦æƒ…", "hidden": true, "component": "pages/approveCenter/BudgetApproveDetail/index.tsx", "sort": 5, "activeName": "/approve/", "keepAlive": false, "defaultMenu": false, "icon": "", "closeTab": true, "showSidebar": false, "microApp": false, "appIcon": "", "skipPage": "", "role": 1, "showInMyApp": true, "blank": false, "permission": true, "dataPermission": false, "tabName": "", "bindMenu": 0, "children": [] } ] }, { "id": 1034, "name": "proposal", "menuType": 1, "parentId": 1032, "path": "/proposal", "title": "ææ¡ˆç®¡ç†", "hidden": false, "component": "", "sort": 20, "activeName": "", "keepAlive": false, "defaultMenu": false, "icon": "icon-proposal", "closeTab": true, "showSidebar": false, "microApp": false, "appIcon": "", "skipPage": "", "role": 1, "showInMyApp": true, "blank": false, "permission": false, "dataPermission": false, "tabName": "", "bindMenu": 0, "children": [ { "id": 1037, "name": "apply", "menuType": 1, "parentId": 1034, "path": "/proposal/apply", "title": "ææ¡ˆç”³è¯·", "hidden": false, "component": "", "sort": 1, "activeName": "", "keepAlive": false, "defaultMenu": false, "icon": "", "closeTab": true, "showSidebar": false, "microApp": false, "appIcon": "", "skipPage": "/proposal/apply/list", "role": 1, "showInMyApp": true, "blank": false, "permission": false, "dataPermission": true, "tabName": "", "bindMenu": 0, "children": [ { "id": 1049, "name": "list", "menuType": 1, "parentId": 1037, "path": "/proposal/apply/list", "title": "åˆ—è¡¨é¡µ", "hidden": true, "component": "pages/proposal/proposalApply/list/index.tsx", "sort": 0, "activeName": "/proposal/apply", "keepAlive": true, "defaultMenu": false, "icon": "", "closeTab": true, "showSidebar": false, "microApp": false, "appIcon": "", "skipPage": "", "role": 1, "showInMyApp": true, "blank": false, "permission": false, "dataPermission": false, "tabName": "ææ¡ˆç”³è¯·", "bindMenu": 0, "children": [] }, { "id": 1051, "name": "detail", "menuType": 1, "parentId": 1037, "path": "/proposal/apply/detail", "title": "è¯¦æƒ…é¡µ", "hidden": true, "component": "pages/proposal/proposalApply/detail/index.tsx", "sort": 0, "activeName": "/proposal/apply", "keepAlive": false, "defaultMenu": false, "icon": "", "closeTab": true, "showSidebar": true, "microApp": false, "appIcon": "", "skipPage": "", "role": 1, "showInMyApp": true, "blank": false, "permission": false, "dataPermission": false, "tabName": "ææ¡ˆè¯¦æƒ…", "bindMenu": 0, "children": [] }, { "id": 1052, "name": "add", "menuType": 1, "parentId": 1037, "path": "/proposal/apply/add", "title": "æ–°å¢é¡µ", "hidden": true, "component": "pages/proposal/proposalApply/apply/index.tsx", "sort": 0, "activeName": "/proposal/apply", "keepAlive": true, "defaultMenu": false, "icon": "", "closeTab": true, "showSidebar": true, "microApp": false, "appIcon": "", "skipPage": "", "role": 1, "showInMyApp": true, "blank": false, "permission": false, "dataPermission": false, "tabName": "æ–°å¢ææ¡ˆ", "bindMenu": 0, "children": [] }, { "id": 1056, "name": "edit", "menuType": 1, "parentId": 1037, "path": "/proposal/apply/edit", "title": "ç¼–è¾‘é¡µ", "hidden": true, "component": "pages/proposal/proposalApply/apply/index.tsx", "sort": 0, "activeName": "/proposal/apply", "keepAlive": true, "defaultMenu": false, "icon": "", "closeTab": true, "showSidebar": false, "microApp": false, "appIcon": "", "skipPage": "", "role": 1, "showInMyApp": false, "blank": false, "permission": false, "dataPermission": false, "tabName": "ææ¡ˆç¼–è¾‘", "bindMenu": 0, "children": [] } ] }, { "id": 1057, "name": "rating", "menuType": 1, "parentId": 1034, "path": "/proposal/rating", "title": "ææ¡ˆè¯„åˆ†", "hidden": false, "component": "", "sort": 2, "activeName": "", "keepAlive": false, "defaultMenu": false, "icon": "", "closeTab": true, "showSidebar": false, "microApp": false, "appIcon": "", "skipPage": "/proposal/rating/list", "role": 1, "showInMyApp": false, "blank": false, "permission": false, "dataPermission": false, "tabName": "", "bindMenu": 0, "children": [ { "id": 1058, "name": "list", "menuType": 1, "parentId": 1057, "path": "/proposal/rating/list", "title": "ææ¡ˆè¯„åˆ†", "hidden": true, "component": "pages/proposal/proposalScore/rating/list/index.tsx", "sort": 1, "activeName": "/proposal/rating", "keepAlive": true, "defaultMenu": false, "icon": "", "closeTab": true, "showSidebar": false, "microApp": false, "appIcon": "", "skipPage": "", "role": 1, "showInMyApp": false, "blank": false, "permission": false, "dataPermission": true, "tabName": "", "bindMenu": 0, "children": [] }, { "id": 1059, "name": "scheme", "menuType": 1, "parentId": 1057, "path": "/proposal/rating/scheme", "title": "æ–°å¢é¡µ", "hidden": true, "component": "pages/proposal/proposalScore/rating/scheme/index.tsx", "sort": 2, "activeName": "/proposal/rating", "keepAlive": true, "defaultMenu": false, "icon": "", "closeTab": true, "showSidebar": false, "microApp": false, "appIcon": "", "skipPage": "", "role": 1, "showInMyApp": false, "blank": false, "permission": false, "dataPermission": false, "tabName": "æ–°å¢è¯„åˆ†", "bindMenu": 0, "children": [] }, { "id": 1066, "name": "detail", "menuType": 1, "parentId": 1057, "path": "/proposal/rating/detail", "title": "è¯¦æƒ…é¡µ", "hidden": true, "component": "pages/proposal/proposalScore/rating/detail/index.tsx", "sort": 3, "activeName": "/proposal/rating", "keepAlive": false, "defaultMenu": false, "icon": "", "closeTab": true, "showSidebar": false, "microApp": false, "appIcon": "", "skipPage": "", "role": 1, "showInMyApp": false, "blank": false, "permission": false, "dataPermission": true, "tabName": "è¯„åˆ†è¯¦æƒ…", "bindMenu": 0, "children": [] } ] }, { "id": 1068, "name": "scoretemplete", "menuType": 1, "parentId": 1034, "path": "/proposal/scoretemplete", "title": "ææ¡ˆè¯„åˆ†ç»´åº¦", "hidden": false, "component": "pages/proposal/proposalScore/scoretemplete/index.tsx", "sort": 3, "activeName": "", "keepAlive": false, "defaultMenu": false, "icon": "", "closeTab": true, "showSidebar": false, "microApp": false, "appIcon": "", "skipPage": "", "role": 1, "showInMyApp": false, "blank": false, "permission": false, "dataPermission": false, "tabName": "", "bindMenu": 0, "children": [] }, { "id": 1069, "name": "tagmange", "menuType": 1, "parentId": 1034, "path": "/proposal/tagmange", "title": "ææ¡ˆæ ‡ç­¾ç®¡ç†", "hidden": false, "component": "pages/proposal/proposalScore/tagMange/index.tsx", "sort": 5, "activeName": "", "keepAlive": true, "defaultMenu": false, "icon": "", "closeTab": true, "showSidebar": false, "microApp": false, "appIcon": "", "skipPage": "", "role": 1, "showInMyApp": false, "blank": false, "permission": false, "dataPermission": false, "tabName": "", "bindMenu": 0, "children": [] } ] } ] }

å·®å¼‚ç±»å‹è¯†åˆ«

æ–°å¢ï¼šå­˜åœ¨äº B ä½†ä¸åœ¨ A ä¸­çš„èœå•é¡¹ï¼ˆç»¿è‰²é«˜äº®ï¼‰

åˆ é™¤ï¼šå­˜åœ¨äº A ä½†ä¸åœ¨ B ä¸­çš„èœå•é¡¹ï¼ˆçº¢è‰²é«˜äº®+åˆ é™¤çº¿ï¼‰

ä¿®æ”¹ï¼šç›¸åŒ ID ä½†å±æ€§å˜åŒ–çš„èœå•é¡¹ï¼ˆè“è‰²é«˜äº®+æ˜¾ç¤ºå˜æ›´è¯¦æƒ…ï¼‰æ¯”å¯¹ json ä¸­çš„æ‰€æœ‰å±æ€§ï¼Œå› ä¸ºæ”¹åŠ¨ä»»ä½•ä¸€ä¸ªå±æ€§éƒ½æ˜¯è‡³å…³é‡è¦çš„ï¼›

åµŒå¥—æ”¯æŒï¼šé€’å½’æ£€æµ‹å­èœå•çš„å·®å¼‚

å¯è§†åŒ–è¦æ±‚

æ ‘å½¢ç»“æ„å±•ç¤ºï¼šä»¥å±‚çº§æ–¹å¼å±•ç¤ºèœå•åŠå­èœå•

å·®å¼‚æ ‡è®°ï¼š

é¢œè‰²ç¼–ç åŒºåˆ†å˜æ›´ç±»å‹ï¼ˆæ–°å¢ç»¿/åˆ é™¤çº¢/ä¿®æ”¹è“ï¼‰

ä¿®æ”¹é¡¹éœ€æ˜¾ç¤ºå…·ä½“å˜æ›´å­—æ®µï¼ˆå¦‚ name: "æ§åˆ¶å°" â†’ "ä¸»é¡µ"ï¼‰

äº¤äº’åŠŸèƒ½ï¼š

èŠ‚ç‚¹å±•å¼€/æŠ˜å 

æ‚¬åœæ˜¾ç¤ºå®Œæ•´è·¯å¾„å’Œå˜æ›´è¯¦æƒ…

æ”¯æŒæœç´¢/è¿‡æ»¤èœå•é¡¹

è¾“å‡ºç»“æœ

ç”Ÿæˆå·®å¼‚æŠ¥å‘Šï¼ˆHTML æ ¼å¼ï¼‰

æ”¯æŒå¯¼å‡ºå·®å¼‚ç»“æœä¸º JSON/CSV

ä¸‰ã€æŠ€æœ¯æ–¹æ¡ˆæ¨èå·¥å…·ï¼ˆç°æœ‰è§£å†³æ–¹æ¡ˆï¼‰

bash npm install diff-json react-json-diff # æ ¸å¿ƒä¾èµ– npm install antd lodash # è¾…åŠ©åº“ diff-jsonï¼šé«˜æ•ˆè®¡ç®— JSON å·®å¼‚

react-json-diffï¼šå¯è§†åŒ–å·®å¼‚ç»„ä»¶ï¼ˆéœ€å®šåˆ¶æ ·å¼ï¼‰

Ant Design Treeï¼šæ ‘å½¢ç»“æ„å±•ç¤ºç»„ä»¶

è‡ªå®šä¹‰å®ç°æ–¹æ¡ˆ

å›¾è¡¨ä»£ç 

å…³é”®æ¨¡å—è®¾è®¡ï¼š

å·®å¼‚è®¡ç®—å™¨

javascript function calculateDiff(menuA, menuB) { const diff = { added: deepDiff(menuB, menuA), // æ–°å¢é¡¹ removed: deepDiff(menuA, menuB), // åˆ é™¤é¡¹ changed: findChangedItems(menuA, menuB) // ä¿®æ”¹é¡¹ }; return diff; } æ ‘å½¢æ¸²æŸ“å™¨

jsx <Tree> <TreeNode label="æ§åˆ¶å°" status="modified" changes={{name: ["æ§åˆ¶å°", "ä¸»é¡µ"]}}

>

    <TreeNode label="åˆ†æé¡µ" status="unchanged"/>

  </TreeNode>
</Tree>
äº¤äº’å¢å¼º

èŠ‚ç‚¹å±•å¼€æŠ˜å çŠ¶æ€ç®¡ç†

å˜æ›´æç¤º Tooltip ç»„ä»¶

å››ã€è¾“å‡ºäº¤ä»˜ç‰©å·¥å…·åŠŸèƒ½

Web åº”ç”¨ï¼ˆReact å®ç°ï¼‰

æ”¯æŒ JSON æ–‡ä»¶ä¸Šä¼ /æ–‡æœ¬ç²˜è´´

å®æ—¶å·®å¼‚å¯è§†åŒ–

å·®å¼‚æŠ¥å‘Šç¤ºä¾‹

markdown

## èœå•å·®å¼‚æŠ¥å‘Š

- âœ… æ–°å¢: 3 é¡¹ (ç”¨æˆ·ç®¡ç†ã€æ—¥å¿—)
- âŒ åˆ é™¤: 1 é¡¹ (ç»Ÿè®¡æŠ¥è¡¨)
- ğŸ”„ ä¿®æ”¹: 2 é¡¹
  - æ§åˆ¶å° â†’ ä¸»é¡µ (name)
  - /dashboard â†’ /home (path)
